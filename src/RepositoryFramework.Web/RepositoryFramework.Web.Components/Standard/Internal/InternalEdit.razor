@namespace RepositoryFramework.Web.Components.Standard
@using System.Reflection;
@using Blazorise
@using System.Collections;
@using System.Text.Json;
@using Blazorise.DataGrid
@typeparam T

@if (Entity != null)
{
    <div style="padding-top:15px;">
        <Row>
            <Column>
                @while (Enumerator.MoveNext())
                {
                    var value = Enumerator.Current;
                    if (value.Type == PropertyType.Primitive)
                    {
                        if (Enumerator.MoveNext())
                        {
                            var nextValue = Enumerator.Current;
                            if (nextValue.Type == PropertyType.Primitive)
                            {
                                <Fields>
                                    @LoadPrimitiveEdit(value)
                                    @LoadPrimitiveEdit(nextValue)
                                </Fields>
                            }
                            else
                            {
                                <Fields>
                                    @LoadPrimitiveEdit(value)
                                </Fields>
                                <Divider DividerType="DividerType.TextContent" Text="@value.Self.Name" />
                                @LoadNext(value)
                            }
                        }
                        else
                        {
                            <Fields>
                                @LoadPrimitiveEdit(value)
                            </Fields>
                            break;
                        }
                    }
                    else
                    {
                        <Divider DividerType="DividerType.TextContent" Text="@value.Self.Name" />
                        @LoadNext(value)
                    }
                }
            </Column>
        </Row>
    </div>
}