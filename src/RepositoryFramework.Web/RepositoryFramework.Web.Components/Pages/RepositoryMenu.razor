@using Blazorise
@namespace RepositoryFramework.Web.Components

<Bar Breakpoint="Breakpoint.Desktop"
     Background="Background.Light"
     ThemeContrast="ThemeContrast.Light">
    <BarBrand Padding="Padding.Is2.OnX">
        @Settings.Name
    </BarBrand>
    <BarToggler />
    <BarMenu>
        <BarStart>
            @if (StartFragment != null)
            {
                @StartFragment
            }
            @foreach (var app in AppMenu.Models)
            {
                <BarItem>
                    <BarDropdown>
                        <BarDropdownToggle>@app.Value.ModelType.Name</BarDropdownToggle>
                        <BarDropdownMenu>
                            <BarDropdownItem>
                                <Blazorise.Bootstrap.Button Margin="Margin.Is0"
                                Clicked="@((x) => Redirect($"../../../../Repository/{app.Value.ModelType.Name}/Query"))">
                                    Query
                                </Blazorise.Bootstrap.Button>
                            </BarDropdownItem>
                            <BarDropdownDivider />
                            <BarDropdownItem>
                                <Blazorise.Bootstrap.Button Margin="Margin.Is0"
                                Clicked="@((x) => Redirect($"../../../../Repository/{app.Value.ModelType.Name}/Create"))">
                                    New
                                </Blazorise.Bootstrap.Button>
                            </BarDropdownItem>
                        </BarDropdownMenu>
                    </BarDropdown>
                </BarItem>
            }
        </BarStart>
        <BarEnd>
            @if (EndFragment != null)
            {
                @EndFragment
            }
        </BarEnd>
    </BarMenu>
</Bar>